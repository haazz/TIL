# Resource

Java에서 resource란 외부의 데이터 (DB, Network, Data)를 일컫는다. <br/>
이런 resource들을 접근할 때 예외가 발생할 수 있고, 이에 따라 resource를 사용하고 닫는 것이 굉장히 중요하다.

# try-catch-finally

아래 코드처럼 작성하면 파일 resource를 닫을 수 있는 것처럼 보인다.

```java
try {
    file = new FileWriter("data.txt");
    file.write("Hello World");
} catch (IOException e) {
    throw new RuntimeException(e);
} finally {
    file.close();
    // 작업중에 예외가 발생하더라도 파일이 닫히도록 finally블럭에 넣음
    // 근데 close()가 예외를 발생시키면 문제가 됨
}
```

하지만 실제로는 'file.close();' 코드에서도 예외가 발생하기 때문에 아래처럼 작성해야 한다.

```java
try {
    file = new FileWriter("data.txt");
    file.write("Hello World");
} catch (IOException e) {
    throw new RuntimeException(e);
} finally {
    try {
        file.close();
    } catch (IOException e) {
        throw new RuntimeException(e);
    }
}
```

이렇게 작성하게 되면 코드도 늘어나고 가독성도 떨어지게 된다.
이에 따라 Java 7버전 부터는 try-with-resource 문이 나오게 되었다.

# try-with-resource

아래 코드와 같이 try() 문 내부에 파일을 할당해주면 try 블럭을 벗어나는 순간 close()를 호출해준다. 또한 파일을 여러개 할당할 수도 있다.

```java
try (FileWriter file = new FileWriter("data.txt")) { // 파일을 열고 모두 사용되면 자동으로 닫아준다
    file.write("Hello World");
} catch (IOException e) {
    e.printStackTrace();
}

```

# AutoCloseable 인터페이스

try-with-resource 문으로 사용되기 위해서는 AutoCloseable 인터페이스를 구현하여야 한다.
위 코드에 사용된 FileWriter도 implements AutoCloseable 인터페이스를 구현하였다.
