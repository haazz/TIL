# Wrapper class 캐싱

Wrapper class 중에 Integer, Short, Byte, Long에는 -128~127 값에 대한 캐싱이 존재한다. <br/>
추가적으로 Boolean은 true, false 캐싱 Character는 ASCII 범위 0~127 값에 대한 캐싱이 존재한다. <br/>
따라서 같은 레퍼런스 값을 갖게 되고 아래 코드와 같은 결과가 나오게 된다.

```java
Integer a = 127;
Integer b = 127;

return a == b;  // true

Integer a = 128;
Integer b = 128;

return a == b // false
```

# .valuOf()

캐싱은 Wrapper class에 .valueOf() 메소드를 사용했을 때만 적용된다.
AutoBoxing이 일어날 때도 .valueOf()가 적용되기 때문에 똑같이 동작하는 것이다.

```java
Integer a = Integer.valueOf(127)    // = 127
Integer b = Integer.valueOf(127)    // = 127

return a == b;  // true

Integer a = new Integer(127);
Integer b = new Integer(127);

return a == b // false
```

# Integer 캐싱 가변

Integer 클래스에 한해서 캐싱 최대 사이즈를 가변할 수 있다.
Java 실행시 아래의 명령어를 같이 사용하면 캐싱 사이즈가 변경된다.

```
-XX:AutoBoxCacheMax=<size>
```

size에 1000을 넣고 실행하면 아래처럼 동작한다.

```java
Integer a = 1000;
Integer b = 1000;

return a == b;  // true

Integer a = 1001;
Integer b = 1001;

return a == b // false
```
